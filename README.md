<div align="center">

# ğŸ“ Smart Learn - æ™ºæ…§æ•™è‚² AI å¹³å°

*åŸºäº React å’Œ AI çš„æ™ºèƒ½æ•™å­¦å¹³å° | AI-Powered Intelligent Teaching Platform*

[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](LICENSE)
[![React](https://img.shields.io/badge/React-19.2-61dafb?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-3178c6?logo=typescript)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-7.x-646cff?logo=vite)](https://vitejs.dev/)
[![Playwright](https://img.shields.io/badge/Playwright-E2E-2EAD33?logo=playwright)](https://playwright.dev/)
[![Node.js](https://img.shields.io/badge/Node.js-20.x-339933?logo=node.js)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791?logo=postgresql)](https://www.postgresql.org/)

</div>

---

## ğŸ“– é¡¹ç›®å…¨æ™¯

**Smart Learn** æ˜¯ä¸€ä¸ªå…¨æ ˆ AI æ™ºèƒ½æ•™å­¦å¹³å°ï¼Œé¢å‘å­¦ç”Ÿå’Œæ•™å¸ˆåŒç«¯ï¼Œæä¾›ä¸ªæ€§åŒ–å­¦ä¹ è¾…åŠ©ä¸ç²¾å‡†æ•™å­¦ç®¡ç†ã€‚å¹³å°æ·±åº¦é›†æˆ AI èƒ½åŠ›ï¼Œæ¶µç›–ç­çº§ç®¡ç†ã€åˆ†å±‚ä½œä¸šå‘å¸ƒã€AI å­¦ä¹ åŠ©æ‰‹ã€å­¦æƒ…åˆ†æä¸ç²¾å‡†å¹²é¢„ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

å‰ç«¯é‡‡ç”¨ React 19 + TypeScript + Vite æ„å»ºï¼Œåç«¯åŸºäº Node.js + Express + PostgreSQL (Prisma ORM)ï¼Œæ–‡ä»¶å­˜å‚¨ä½¿ç”¨ MinIO (S3 å…¼å®¹)ï¼Œé€šè¿‡ Playwright è¿›è¡Œ E2E è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œç¡®ä¿äº§å“è´¨é‡ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½æ¸…å•

### ğŸ’ å­¦ç”Ÿç«¯

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **ä»ªè¡¨ç›˜** | æ€»ç§¯åˆ†/æ’å/è¯¾ç¨‹è¿›åº¦/AIäº’åŠ¨æŒ‡æ•°ã€è¿‘7å¤©å­¦ä¹ è¶‹åŠ¿ã€äº”ç»´èƒ½åŠ›é›·è¾¾ï¼ˆçŸ¥è¯†æŒæ¡/å®è·µèƒ½åŠ›/è¯¾å ‚è¡¨ç°/åä½œèƒ½åŠ›/åˆ›æ–°æ€ç»´ï¼‰ã€è¯¾å ‚è¡¨ç°æ¨¡å—ã€æœ€è¿‘æ´»åŠ¨ï¼›æ”¯æŒå¯¼å‡ºå­¦ä¹ æŠ¥å‘Šã€AI è¯Šæ–­è·³è½¬ |
| **AI æ™ºèƒ½åŠ©æ‰‹** | åŸºäº OpenAI å…¼å®¹ API çš„ SSE æµå¼å¯¹è¯ã€å¤šæ¨¡å‹é€‰æ‹©ã€èŠå¤©å†å²æŒä¹…åŒ–ã€Socratic å¼•å¯¼å¼æ•™å­¦ |
| **èµ„æºåº“** | æŒ‰ç±»å‹/åˆ†ç±»/æ ‡ç­¾æœç´¢è¿‡æ»¤æ•™å­¦èµ„æºï¼Œæ”¯æŒæ”¶è—ã€æµè§ˆé‡ç»Ÿè®¡ã€è¯„è®º |
| **ä½œä¸šæäº¤** | æŸ¥çœ‹/æäº¤ä½œä¸šï¼ˆPDF/Notebookï¼‰ï¼Œæ–‡ä»¶é¢„è§ˆï¼ˆPDF å†…è”ã€IPYNB JSONï¼‰ï¼Œæˆªæ­¢æ—¶é—´æé†’ |
| **åŒè¡Œäº’è¯„** | å‚ä¸åŒè¡Œäº’è¯„ï¼ŒåŒ¿åè¯„å®¡æœºåˆ¶ï¼Œè¯„åˆ†åé¦ˆ |
| **æ€æ”¿æ¡ˆä¾‹åº“** | æµè§ˆ/æ”¶è—/è¯„åˆ†æ€æ”¿æ¡ˆä¾‹ï¼Œæ¡ˆä¾‹è¯„è®º |
| **å­¦æƒ…åˆ†æ** | ä¸ªäººæˆç»©è¶‹åŠ¿ã€å¾—åˆ†èµ°åŠ¿ç»Ÿè®¡ |
| **ä¸ªäººè®¾ç½®** | èµ„æ–™ç¼–è¾‘ã€å¤´åƒä¸Šä¼ ã€å¯†ç ä¿®æ”¹ã€é€šçŸ¥åå¥½ã€éšç§æƒé™ |

### ğŸ« æ•™å¸ˆç«¯

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **ä»ªè¡¨ç›˜** | æˆè¯¾å­¦ç”Ÿæ•°/ç­çº§æ•°/æäº¤ç‡/å¾…å…³æ³¨å­¦ç”Ÿã€æœ€è¿‘åŠ¨æ€ã€å¾…åŠä»»åŠ¡ã€å¿«æ·å…¥å£ |
| **ç­çº§ç®¡ç†** | åˆ›å»ºç­çº§ï¼ˆè‡ªåŠ¨é‚€è¯·ç ï¼‰ã€æˆå‘˜ç®¡ç†ã€ç­çº§ç¼–è¾‘/åˆ é™¤ |
| **åˆ†å±‚ä½œä¸šå‘å¸ƒ** | å‘å¸ƒä½œä¸šï¼ˆæ ‡é¢˜/æè¿°/æˆªæ­¢æ—¶é—´/æ»¡åˆ†/è¿Ÿäº¤è®¾ç½®ï¼‰ã€æ”¯æŒæ™®é€šä½œä¸š/é¡¹ç›®å°ç»„ä½œä¸š/è‡ªä¸»å®è·µä½œä¸šä¸‰ç§å½¢æ€ã€AI è¾…åŠ©æ‰¹æ”¹ |
| **ä½œä¸šåŠ¨æ€ç»„é˜Ÿ** | é¡¹ç›®å°ç»„ä½œä¸šæ”¯æŒè‡ªåŠ¨åˆ†ç»„ã€æ‰‹åŠ¨æ‹–æ‹½è°ƒæ•´ã€å­¦ç”Ÿè‡ªç”±ç»„é˜Ÿ |
| **åŒè¡Œäº’è¯„ç®¡ç†** | é…ç½®è¯„å®¡äººæ•°ã€åŒ¿åæ¨¡å¼ã€äº’è¯„æˆªæ­¢æ—¶é—´ã€è¦†ç›–ç­–ç•¥ |
| **å­¦ç”Ÿè¡Œä¸ºåˆ†æ** | å­¦ç”Ÿè¡Œä¸ºæ•°æ®åˆ†æã€å¯¼å‡ºæŠ¥è¡¨ã€ç”Ÿæˆå…³æ³¨æ¸…å• |
| **ç²¾å‡†å¹²é¢„æ§åˆ¶å°** | é¢„è­¦å­¦ç”Ÿç®¡ç†ã€è¡Œä¸ºè¯„åˆ†ç­›é€‰ï¼ˆå…¨éƒ¨/é¢„è­¦/é«˜åˆ†ï¼‰ã€AI æ¨èæ–¹æ¡ˆã€å¹²é¢„èµ„æºæ¨é€ |
| **å¹³æ—¶è¡¨ç°ç®¡ç†** | è¯¾å ‚è¡¨ç°è®°å½•ã€çŸ¥è¯†ç‚¹è¯„ä¼°ã€æˆç»©è¿½è¸ª |
| **æ•°æ®åˆ†æ** | ç­çº§ä½œä¸šåˆ†æï¼ˆæäº¤ç‡/åˆ†æ•°åˆ†å¸ƒï¼‰ã€å­¦ç”Ÿèšç±»åˆ†æã€å­¦ç”Ÿè¡¨ç°æ•£ç‚¹å›¾ã€ç»¼åˆæˆç»©ç»Ÿè®¡ï¼ˆå‡åˆ†/ä¸­ä½æ•°/æ ‡å‡†å·®/åŠæ ¼ç‡/ä¼˜ç§€ç‡ï¼‰ã€ä½œä¸šæˆç»©è¶‹åŠ¿ï¼ˆå‡åˆ†/æœ€é«˜/æœ€ä½ï¼‰ã€æˆç»©è¶‹åŠ¿å¯¹æ¯”ã€åˆ†ç»„å¯¹æ¯”ã€AI å­¦æƒ…æŠ¥å‘Šï¼›**æ·±åº¦åˆ†æ**ï¼šå­¦ç”Ÿæˆç»©çƒ­åŠ›å›¾ã€å­¦ä¹ å‚ä¸åº¦æ°”æ³¡å›¾ã€å¤šå­¦ç”Ÿæˆç»©è¶‹åŠ¿å åŠ é¢ç§¯å›¾ã€ç­çº§èƒ½åŠ›å…³é”®è¯é›·è¾¾å›¾ï¼ˆå‚è€ƒ EduAnalytics æ•°æ®å¯è§†åŒ–æ¨¡å‹ï¼‰ |

### ğŸ” é€šç”¨åŠŸèƒ½

- é‚®ç®±éªŒè¯ç æ³¨å†Œ/ç™»å½•/å¯†ç é‡ç½®
- JWT é‰´æƒ + è§’è‰²å®ˆå«ï¼ˆSTUDENT / TEACHERï¼‰
- å…¨å±€æœç´¢ã€é€šçŸ¥ç³»ç»Ÿ
- æ€æ”¿æ¡ˆä¾‹åº“ï¼ˆåˆ›å»º/æµè§ˆ/è¯„åˆ†/æ”¶è—/è¯„è®ºï¼‰
- æ•™å­¦èµ„æºç®¡ç†ï¼ˆä¸Šä¼ /æµè§ˆ/æ”¶è—/è¯„è®ºï¼‰

## ğŸ—ï¸ æŠ€æœ¯æ ˆè¯¦æƒ…

| å±‚ | æŠ€æœ¯ |
|----|------|
| **å‰ç«¯æ¡†æ¶** | React 19, TypeScript, Vite 7 |
| **UI ç»„ä»¶åº“** | Tailwind CSS 3.4, shadcn/ui (Radix UI), Lucide Icons |
| **çŠ¶æ€ç®¡ç†** | Zustand 5 (with localStorage persist) |
| **è·¯ç”±** | React Router 7 |
| **åŠ¨ç”»** | Framer Motion |
| **æ•°æ®å¯è§†åŒ–** | Recharts |
| **HTTP å®¢æˆ·ç«¯** | Axios |
| **é€šçŸ¥** | Sonner (Toast) |
| **åç«¯** | Node.js, Express, TypeScript, Prisma ORM, Zod |
| **æ•°æ®åº“** | PostgreSQL 15+ |
| **è®¤è¯** | JWT (jsonwebtoken), bcryptjs |
| **æ–‡ä»¶å­˜å‚¨** | MinIO / S3 å…¼å®¹å¯¹è±¡å­˜å‚¨ (AWS SDK) |
| **é‚®ä»¶** | Nodemailer (SMTP) |
| **AI** | OpenAI å…¼å®¹ API (SSE æµå¼) |
| **å®šæ—¶ä»»åŠ¡** | node-cron |
| **E2E æµ‹è¯•** | Playwright |

## ğŸ“ ç›®å½•ç»“æ„

```
smart-learn/
â”œâ”€â”€ app/                            # å‰ç«¯ React åº”ç”¨
â”‚   â”œâ”€â”€ public/                     # é™æ€èµ„æº (favicon ç­‰)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx                 # è·¯ç”±å®šä¹‰ + è§’è‰²å®ˆå«
â”‚   â”‚   â”œâ”€â”€ main.tsx                # å…¥å£
â”‚   â”‚   â”œâ”€â”€ components/             # UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                 # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ charts/             # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/               # AI èŠå¤©ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ layout/             # å¸ƒå±€ (MainLayout, AuthLayout)
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/               # ç™»å½•ã€æ³¨å†Œã€æ‰¾å›å¯†ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ student/            # å­¦ç”Ÿç«¯æ‰€æœ‰é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ teacher/            # æ•™å¸ˆç«¯æ‰€æœ‰é¡µé¢
â”‚   â”‚   â”œâ”€â”€ stores/                 # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ authStore.ts        # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ classStore.ts       # ç­çº§ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ homeworkStore.ts    # ä½œä¸šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ resourceStore.ts    # èµ„æºä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ caseStore.ts        # æ¡ˆä¾‹åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ chatStore.ts        # AI èŠå¤©
â”‚   â”‚   â”‚   â”œâ”€â”€ courseStore.ts       # è¯¾ç¨‹ä¿¡æ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ groupStore.ts       # ä½œä¸šåˆ†ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ peerReviewStore.ts  # åŒè¡Œäº’è¯„
â”‚   â”‚   â”‚   â”œâ”€â”€ analyticsStore.ts   # æ•°æ®åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ behaviorStore.ts    # è¡Œä¸ºåˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboardStore.ts   # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ teacherStore.ts     # æ•™å¸ˆæ•°æ®
â”‚   â”‚   â”‚   â””â”€â”€ classPerformanceStore.ts # å¹³æ—¶è¡¨ç°
â”‚   â”‚   â”œâ”€â”€ hooks/                  # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ lib/                    # API å®¢æˆ·ç«¯ (Axios)ã€å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ backend/                        # åç«¯ Express åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts                # å…¥å£ + è·¯ç”±æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ routes/                 # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯
â”‚   â”‚   â”‚   â”œâ”€â”€ class.ts            # ç­çº§ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ homework.ts         # ä½œä¸šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ resource.ts         # èµ„æºä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ case.ts             # æ¡ˆä¾‹åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ course.ts           # è¯¾ç¨‹ä¿¡æ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ ai.ts               # AI åŠ©æ‰‹
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics.ts        # æ•°æ®åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.ts        # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ behavior.ts         # è¡Œä¸ºæ•°æ®
â”‚   â”‚   â”‚   â”œâ”€â”€ group.ts            # ä½œä¸šåˆ†ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ peerReview.ts       # åŒè¡Œäº’è¯„
â”‚   â”‚   â”‚   â”œâ”€â”€ classPerformance.ts # å¹³æ—¶è¡¨ç°
â”‚   â”‚   â”‚   â””â”€â”€ public.ts           # å…¬å…±è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/             # JWT è®¤è¯ã€æ–‡ä»¶ä¸Šä¼ ã€é™æµ
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ storage/            # MinIO / S3 å­˜å‚¨æœåŠ¡
â”‚   â”‚   â””â”€â”€ utils/                  # å·¥å…· (JWT, é‚®ä»¶)
â”‚   â”œâ”€â”€ prisma/schema.prisma        # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”‚   â””â”€â”€ .env.example                # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ e2e/                            # E2E è‡ªåŠ¨åŒ–æµ‹è¯• (Playwright)
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ auth.spec.ts            # è®¤è¯æ¨¡å—æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ student.spec.ts         # å­¦ç”Ÿç«¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ teacher.spec.ts         # æ•™å¸ˆç«¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ teacher-intervention.spec.ts  # å¹²é¢„æ§åˆ¶å°æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ student-homework.spec.ts      # å­¦ç”Ÿä½œä¸šæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ routing.spec.ts         # è·¯ç”±æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ mobile.spec.ts          # ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•
â”‚   â”‚   â””â”€â”€ fixtures.spec.ts        # æµ‹è¯• Fixture éªŒè¯
â”‚   â””â”€â”€ playwright.config.ts
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ start-dev.sh                # å¼€å‘ç¯å¢ƒä¸€é”®å¯åŠ¨
â”‚   â”œâ”€â”€ start-prod.sh               # ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
â”‚   â””â”€â”€ reset-db.sh                 # æ•°æ®åº“é‡ç½®
â”œâ”€â”€ static-ui/                      # é™æ€ UI è®¾è®¡ç¨¿
â”œâ”€â”€ DEPLOY.md                       # éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ LICENSE
â””â”€â”€ README.md
```

## ğŸš€ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- **Node.js** 20.x+
- **PostgreSQL** 15+
- **MinIO**ï¼ˆå¯é€‰ï¼Œä¸é…ç½®åˆ™ä½¿ç”¨æœ¬åœ°æ–‡ä»¶å­˜å‚¨å›é€€ï¼‰
- **npm**

### æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# å…‹éš†é¡¹ç›®åï¼Œä½¿ç”¨ä¸€é”®å¯åŠ¨è„šæœ¬
./scripts/start-dev.sh

# å¯é€‰å‚æ•°:
#   --keep-db    ä¿ç•™å¼€å‘æ•°æ®åº“
#   --reset-db   å¼ºåˆ¶é‡ç½®æ•°æ®åº“
#   --seed       æ’å…¥æµ‹è¯•è´¦å·ï¼ˆ2ä¸ªå­¦ç”Ÿ + 1ä¸ªæ•™å¸ˆï¼‰
```

ä½¿ç”¨ `--seed` å‚æ•°ä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹æµ‹è¯•è´¦å·ï¼š

| è§’è‰² | é‚®ç®± | å¯†ç  |
|------|------|------|
| å­¦ç”Ÿ | student1@test.com | 123456 |
| å­¦ç”Ÿ | student2@test.com | 123456 |
| æ•™å¸ˆ | teacher@test.com | 123456 |

è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–ã€ç”Ÿæˆ Prisma Clientã€åˆå§‹åŒ–æ•°æ®åº“å¹¶åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡ã€‚

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

**1. é…ç½®å¹¶å¯åŠ¨åç«¯**

```bash
cd backend
cp .env.example .env
# ç¼–è¾‘ .envï¼Œè‡³å°‘é…ç½® DATABASE_URL å’Œ JWT_SECRET
npm install
npx prisma generate
npx prisma db push
npm run dev
# åç«¯è¿è¡Œåœ¨ http://localhost:3001
```

**2. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰**

```bash
cd app
npm install
npm run dev
# å‰ç«¯è¿è¡Œåœ¨ http://localhost:5173
```

### è¿è¡Œ E2E æµ‹è¯•

E2E æµ‹è¯•åŸºäº Playwrightï¼Œåœ¨å‰ç«¯è¿è¡Œçš„æƒ…å†µä¸‹æ‰§è¡Œï¼š

```bash
cd e2e
npm install
npx playwright install chromium    # é¦–æ¬¡è¿è¡Œéœ€å®‰è£…æµè§ˆå™¨

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# å¸¦æµè§ˆå™¨ç•Œé¢è¿è¡Œï¼ˆæ–¹ä¾¿è°ƒè¯•ï¼‰
npm run test:headed

# æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
npm run test:report
```

**æµ‹è¯•å¥—ä»¶æ¦‚è§ˆï¼š**

| æ–‡ä»¶ | è¦†ç›–èŒƒå›´ |
|------|----------|
| `auth.spec.ts` | ç™»å½•/æ³¨å†Œ/å¿˜è®°å¯†ç /æƒé™æ§åˆ¶/ç™»å‡º |
| `student.spec.ts` | å­¦ç”Ÿä»ªè¡¨ç›˜/ä½œä¸š/èµ„æº/AIåŠ©æ‰‹/è®¾ç½®/åˆ†æ |
| `teacher.spec.ts` | æ•™å¸ˆä»ªè¡¨ç›˜/ç­çº§/ä½œä¸š/åˆ†æ/è¡Œä¸ºåˆ†æ/èµ„æº |
| `teacher-intervention.spec.ts` | å¹²é¢„æ§åˆ¶å° Toggle å¼€å…³/ç­›é€‰å™¨/è¡¨å•æäº¤ |
| `student-homework.spec.ts` | å­¦ç”Ÿä½œä¸šäº¤äº’ + PDF/Notebook æ–‡ä»¶ä¸Šä¼  |
| `routing.spec.ts` | è·¯ç”±é‡å®šå‘/404/æƒé™å®ˆå« |
| `mobile.spec.ts` | ç§»åŠ¨ç«¯ viewport é€‚é…æµ‹è¯• |
| `fixtures.spec.ts` | æµ‹è¯•æ–‡ä»¶ç”ŸæˆéªŒè¯ |

### ç¯å¢ƒå˜é‡è¯´æ˜ (`.env`)

```env
# æ•°æ®åº“ (å¿…é¡»)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/smartlearn?schema=public"

# JWT (å¿…é¡»)
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRES_IN="7d"

# SMTP é‚®ä»¶ (å¯é€‰)
SMTP_HOST="smtp.ethereal.email"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=""
SMTP_PASS=""
SMTP_FROM_NAME="æ™ºæ…§æ•™è‚²AIå¹³å°"
SMTP_FROM_EMAIL="noreply@edu-platform.com"

# æœåŠ¡å™¨
PORT=3001
NODE_ENV="development"
FRONTEND_URL="http://localhost:5173"

# AI (å¯é€‰ï¼Œä¸é…ç½®åˆ™ AI åŠ©æ‰‹ä¸å¯ç”¨)
AI_BASE_URL="https://api.openai.com"
AI_API_KEY=""

# MinIO / S3 å¯¹è±¡å­˜å‚¨ (å¯é€‰ï¼Œä¸é…ç½®åˆ™ä½¿ç”¨æœ¬åœ°æ–‡ä»¶å­˜å‚¨)
S3_ENDPOINT="http://127.0.0.1:9000"
S3_ACCESS_KEY="minioadmin"
S3_SECRET_KEY="minioadmin"
S3_BUCKET_NAME="smart-learn"
```

## ğŸ”— API ç«¯ç‚¹æ€»è§ˆ

| å‰ç¼€ | è¯´æ˜ | é‰´æƒ |
|------|------|------|
| `/api/auth` | è®¤è¯ï¼ˆæ³¨å†Œ/ç™»å½•/å¯†ç é‡ç½®/ä¸ªäººèµ„æ–™/åå¥½/å¤´åƒ/æ³¨é”€ï¼‰ | éƒ¨åˆ†éœ€è¦ |
| `/api/classes` | ç­çº§ç®¡ç† | éœ€è¦ |
| `/api/homeworks` | ä½œä¸šç®¡ç†ï¼ˆå‘å¸ƒ/æ‰¹æ”¹/å¯¼å‡º/AIè¾…åŠ©æ‰¹æ”¹ï¼‰ | éœ€è¦ |
| `/api/resources` | èµ„æºä¸­å¿ƒï¼ˆæµè§ˆ/æ”¶è—/è¯„è®ºï¼‰ | åˆ—è¡¨å…¬å¼€ï¼ŒCRUD éœ€æ•™å¸ˆ |
| `/api/cases` | æ¡ˆä¾‹åº“ï¼ˆæµè§ˆ/æ”¶è—/è¯„åˆ†/è¯„è®ºï¼‰ | åˆ—è¡¨å…¬å¼€ï¼ŒCRUD éœ€æ•™å¸ˆ |
| `/api/courses` | è¯¾ç¨‹ä¿¡æ¯ | éœ€è¦ |
| `/api/ai` | AI åŠ©æ‰‹ï¼ˆèŠå¤©/å†å²/åˆ é™¤ï¼‰ | éœ€è¦ |
| `/api/analytics` | æ•°æ®åˆ†æ | éœ€è¦ |
| `/api/dashboard` | ä»ªè¡¨ç›˜èšåˆ | éœ€è¦ |
| `/api/behavior` | å­¦ç”Ÿè¡Œä¸ºæ•°æ® | éœ€è¦ |
| `/api/groups` | ä½œä¸šåˆ†ç»„ç®¡ç† | éœ€è¦ |
| `/api/peer-reviews` | åŒè¡Œäº’è¯„ | éœ€è¦ |
| `/api/class-performance` | å¹³æ—¶è¡¨ç°ç®¡ç† | éœ€è¦ |
| `/api/public` | å…¬å…±æ•°æ®æ¥å£ | æ—  |
| `/api/health` | å¥åº·æ£€æŸ¥ | æ—  |

## âš ï¸ å·²çŸ¥é™åˆ¶

- æ–‡ä»¶ä¸Šä¼ æ”¯æŒ PDF å’Œ IPYNB æ ¼å¼ï¼Œé€šè¿‡ MinIOï¼ˆS3 å…¼å®¹ï¼‰å¯¹è±¡å­˜å‚¨ç®¡ç†
- AI åŠ©æ‰‹éœ€é…ç½®å¤–éƒ¨ OpenAI å…¼å®¹ APIï¼ˆæ”¯æŒè‡ªå®šä¹‰ `AI_BASE_URL`ï¼‰
- é‚®ä»¶æé†’éœ€é…ç½® SMTP æœåŠ¡

## ğŸ“Š å›¾è¡¨æ•°æ®æ¥æºä¸è®¡ç®—æ–¹å¼

ä»¥ä¸‹æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰å›¾è¡¨å’Œæ•°æ®æŒ‡æ ‡çš„æ•°æ®æ¥æºåŠè®¡ç®—æ–¹å¼è¯´æ˜ã€‚æ‰€æœ‰æ•°æ®å‡æ¥è‡ªæ•°æ®åº“å®æ—¶æŸ¥è¯¢ï¼Œä¸ä½¿ç”¨ mock æ•°æ®ã€‚

### å­¦ç”Ÿç«¯ä»ªè¡¨ç›˜

| æŒ‡æ ‡/å›¾è¡¨ | æ•°æ®æ¥æº | è®¡ç®—æ–¹å¼ | API |
|-----------|----------|----------|-----|
| **æ€»ç§¯åˆ†** | `Submission.score` | æ‰€æœ‰å·²è¯„åˆ†æäº¤çš„åˆ†æ•°ä¹‹å’Œ | `/api/dashboard/student/stats` |
| **ç­çº§æ’å** | `Submission.score` | åŒç­åŒå­¦æ€»åˆ†æ’åºï¼Œè®¡ç®—ç™¾åˆ†ä½æ’å | `/api/dashboard/student/stats` |
| **è¯¾ç¨‹è¿›åº¦** | `Submission`, `Homework` | å·²æäº¤ä½œä¸šæ•° / æ‰€åœ¨ç­çº§å…¨éƒ¨ä½œä¸šæ•° Ã— 100% | `/api/dashboard/student/stats` |
| **AI äº’åŠ¨æŒ‡æ•°** | `ChatMessage` (role=user) | `min(100, logâ‚‚(æ¶ˆæ¯æ•°+1) Ã— 15)` | `/api/dashboard/student/stats` |
| **å­¦ä¹ è¡Œä¸ºè¶‹åŠ¿** | `Submission` | è¿‘7å¤©æ¯å¤©çš„å¾—åˆ†æ€»å’Œï¼ŒæŒ‰æ—¥æœŸåˆ†ç»„ | `/api/dashboard/student/trend` |
| **éšå ‚æµ‹éªŒ** | `Homework`, `Submission` | æ ‡é¢˜åŒ¹é…"æµ‹éªŒ/quiz/è€ƒè¯•/test"çš„ä½œä¸šï¼Œè®¡ç®—å¹³å‡æ­£ç¡®ç‡ | `/api/dashboard/student/modules` |
| **ç¼–ç¨‹å®éªŒ** | `Homework`, `Submission` | æ ‡é¢˜åŒ¹é…"å®éªŒ/lab/ç¼–ç¨‹/ä»£ç /coding"çš„ä½œä¸šï¼Œè®¡ç®—é€šè¿‡ç‡ï¼ˆâ‰¥60%ä¸ºé€šè¿‡ï¼‰ | `/api/dashboard/student/modules` |
| **è¯¾å ‚è¡¨ç°** | `ClassPerformanceRecord` | è¿‘4å‘¨è¯¾å ‚é—®ç­”+çŸ¥è¯†åˆ†äº«è®°å½•ï¼ŒæŒ‰å‘¨åˆ†ç»„ï¼Œè®¡ç®—ç»¼åˆè¯„åˆ†ï¼ˆQAÃ—0.5 + åˆ†äº«Ã—0.5ï¼‰ | `/api/dashboard/student/modules` |
| **å°ç»„é¡¹ç›®** | `ClassStudent`, `Homework` | åŒç­åŒå­¦åˆ—è¡¨ + æœ€è¿‘æˆªæ­¢çš„ä½œä¸šä½œä¸ºé¡¹ç›® | `/api/dashboard/student/modules` |
| **æœ€è¿‘åŠ¨æ€** | `Submission`, `Homework` | æœ€è¿‘10æ¬¡ä½œä¸šæäº¤è®°å½•ï¼Œå«è¯„åˆ†çŠ¶æ€ | `/api/dashboard/student/activities` |

### äº”ç»´èƒ½åŠ›é›·è¾¾

äº”ç»´èƒ½åŠ›æ¨¡å‹åŸºäºå¤šæ•°æ®æºç»¼åˆè¯„ä¼°ï¼Œé‡‡ç”¨åŠ æƒè®¡ç®—ç¡®ä¿å„ç»´åº¦æ—¢ç‹¬ç«‹åˆäº’è¡¥ã€‚æ‰€æœ‰è¯„åˆ†èŒƒå›´ 0-100ã€‚

| ç»´åº¦ | æ•°æ®æ¥æº | è®¡ç®—æ–¹å¼ |
|------|----------|----------|
| **çŸ¥è¯†æŒæ¡** | `Submission`, `Homework` | è¿‘æœŸåŠ æƒå¾—åˆ†ç‡ï¼šæŒ‰ä½œä¸šæ—¶é—´æ’åºï¼Œè¶Šæ–°çš„ä½œä¸šæƒé‡è¶Šé«˜ï¼ˆçº¿æ€§é€’å¢æƒé‡ `1 + iÃ—0.5`ï¼‰ï¼Œè®¡ç®— `Î£(å¾—åˆ†ç‡Ã—æƒé‡) / Î£(æƒé‡)` |
| **å®è·µèƒ½åŠ›** | `Submission`, `Homework` | ä½œä¸šå®Œæˆç‡ Ã— 0.4 + å¾—åˆ†è´¨é‡ï¼ˆå¹³å‡å¾—åˆ†ç‡ï¼‰Ã— 0.3 + ä½œä¸šç±»å‹è¦†ç›–åº¦ï¼ˆå·²æäº¤ç±»å‹æ•°/æ€»ç±»å‹æ•°ï¼‰Ã— 0.3 |
| **è¯¾å ‚å‚ä¸** | `ClassPerformanceRecord`, `BehaviorLog`, `ChatMessage` | æ•™å¸ˆè¯„åˆ†ï¼ˆ1-5åˆ†æ ‡å‡†åŒ–åˆ°0-80 + é¢‘æ¬¡åŠ åˆ†ä¸Šé™20ï¼‰Ã— 0.5 + è¡Œä¸ºæ´»è·ƒåº¦ï¼ˆ`âˆš(æ€»æ—¶é•¿/60)Ã—10`ï¼Œä¸Šé™100ï¼‰Ã— 0.3 + AIäº’åŠ¨æ·±åº¦ï¼ˆ`logâ‚‚(æ¶ˆæ¯æ•°+1)Ã—15`ï¼Œä¸Šé™100ï¼‰Ã— 0.2 |
| **åä½œäº¤æµ** | `PeerReview`, `PeerReviewAssignment`, `AssignmentGroupMember`, `ChatMessage` | äº’è¯„å®Œæˆç‡ Ã— 0.35 + äº’è¯„è´¨é‡ï¼ˆè¯„åˆ†ä¸€è‡´æ€§ï¼Œä½æ ‡å‡†å·®=é«˜è´¨é‡ï¼‰Ã— 0.15 + å°ç»„å‚ä¸åº¦ï¼ˆ`40+logâ‚‚(ç»„æ•°)Ã—40`ï¼Œä¸Šé™100ï¼‰Ã— 0.3 + è®¨è®ºæ´»è·ƒåº¦ï¼ˆ`âˆš(æ¶ˆæ¯æ•°)Ã—12`ï¼Œä¸Šé™100ï¼‰Ã— 0.2 |
| **å­¦ä¹ è‡ªé©±åŠ›** | `Submission`, `BehaviorLog` | æŒ‰æ—¶æäº¤ç‡ Ã— 0.3 + è‡ªä¸»å­¦ä¹ è¡Œä¸ºï¼ˆèµ„æº/æ¡ˆä¾‹æµè§ˆæ—¶é•¿ `âˆš(åˆ†é’Ÿæ•°)Ã—15`ï¼Œä¸Šé™100ï¼‰Ã— 0.3 + å­¦ä¹ è¿ç»­æ€§ï¼ˆè¿‘30å¤©æ´»è·ƒå¤©æ•°/30ï¼‰Ã— 0.4 |

> API: `/api/dashboard/student/radar` â€” AI è¯Šæ–­æ–‡æœ¬åŸºäºæœ€å¼º/æœ€å¼±ç»´åº¦åŠ¨æ€ç”Ÿæˆã€‚

### æ•™å¸ˆç«¯æ•°æ®åˆ†æ

#### åŸºç¡€åˆ†æ

| å›¾è¡¨ | æ•°æ®æ¥æº | è®¡ç®—æ–¹å¼ | API |
|------|----------|----------|-----|
| **ç»¼åˆç»Ÿè®¡å¡ç‰‡** | `Submission`, `Homework`, `ClassStudent` | å¹³å‡åˆ†ã€ä¸­ä½æ•°ã€æ ‡å‡†å·®ã€åŠæ ¼ç‡ï¼ˆâ‰¥60%ï¼‰ã€ä¼˜ç§€ç‡ï¼ˆâ‰¥90%ï¼‰ | `/api/analytics/class/:id/comprehensive-stats` |
| **å­¦ç”Ÿèšç±»åˆ†æ** | `Submission`, `Homework` | ç»¼åˆåˆ† = å¾—åˆ†ç‡Ã—0.5 + æäº¤ç‡Ã—0.3 + æŒ‰æ—¶ç‡Ã—0.2ï¼›â‰¥80ä¸ºä¼˜ç§€ï¼Œ50-79ä¸ºä¸­ç­‰ï¼Œ<50ä¸ºå¾…å…³æ³¨ | `/api/analytics/class/:id/student-clusters` |
| **å­¦ç”Ÿè¡¨ç°æ•£ç‚¹å›¾** | `Submission`, `Homework` | Xè½´=æäº¤ç‡(%)ï¼ŒYè½´=å¹³å‡å¾—åˆ†ç‡(%) | `/api/analytics/class/:id/performance-scatter` |
| **ç»¼åˆæˆç»©åˆ†å¸ƒ** | `Submission`, `Homework` | æŒ‰åˆ†æ•°æ®µ(90-100/80-89/70-79/60-69/<60)ç»Ÿè®¡ç¯å½¢å›¾ | `/api/analytics/class/:id/comprehensive-stats` |
| **ä½œä¸šæˆç»©è¶‹åŠ¿** | `Submission`, `Homework` | æ¯æ¬¡ä½œä¸šçš„å¹³å‡åˆ†/æœ€é«˜åˆ†/æœ€ä½åˆ†æŠ˜çº¿å›¾ | `/api/analytics/class/:id/comprehensive-stats` |
| **ä½œä¸šæäº¤ç‡** | `Submission`, `Homework`, `ClassStudent` | æ¯æ¬¡ä½œä¸šæäº¤æ•° / ç­çº§å­¦ç”Ÿæ•° Ã— 100% | `/api/analytics/class/:id/homeworks` |
| **å•æ¬¡ä½œä¸šæˆç»©åˆ†å¸ƒ** | `Submission`, `Homework` | æŒ‰åˆ†æ•°æ®µç»Ÿè®¡é¥¼å›¾ | `/api/analytics/homework/:id/distribution` |
| **æˆç»©è¶‹åŠ¿å¯¹æ¯”** | `Submission`, `Homework` | å„æ¬¡ä½œä¸šçš„ç­çº§å¹³å‡å¾—åˆ†ç‡ | `/api/analytics/class/:id/trend-compare` |
| **åˆ†ç»„æˆç»©å¯¹æ¯”** | `AssignmentGroup`, `Submission` | å„å°ç»„çš„å¹³å‡å¾—åˆ†ç‡ | `/api/analytics/homework/:id/group-compare` |
| **AI å­¦æƒ…æŠ¥å‘Š** | `Submission`, `Homework`, `ClassStudent` | åŸºäºæäº¤ç‡å’Œå¹³å‡åˆ†ç”Ÿæˆå»ºè®®æ–‡æœ¬ | `/api/analytics/class/:id/ai-report` |

#### æ·±åº¦åˆ†æï¼ˆå‚è€ƒ EduAnalytics æ•°æ®å¯è§†åŒ–æ¨¡å‹ï¼‰

| å›¾è¡¨ | æ•°æ®æ¥æº | è®¡ç®—æ–¹å¼ | API |
|------|----------|----------|-----|
| **å­¦ç”Ÿæˆç»©çƒ­åŠ›å›¾** | `Submission`, `Homework`, `ClassStudent` | æ¯ä¸ªå­¦ç”Ÿåœ¨æ¯æ¬¡ä½œä¸šä¸­çš„å¾—åˆ†ç‡(%)ï¼ŒæŒ‰é¢œè‰²ç¼–ç ï¼šâ‰¥90ç»¿/80-89æµ…ç»¿/70-79é»„/60-69æ©™/<60çº¢ | `/api/analytics/class/:id/score-heatmap` |
| **å­¦ä¹ å‚ä¸åº¦æ°”æ³¡å›¾** | `Submission`, `Homework`, `BehaviorLog` | Xè½´=æäº¤ç‡(%)ï¼ŒYè½´=å¹³å‡å¾—åˆ†ç‡(%)ï¼Œæ°”æ³¡å¤§å°=å­¦ä¹ æ´»è·ƒåº¦ï¼ˆè¿‘30å¤©è¡Œä¸ºæ—¥å¿—æ—¶é•¿å½’ä¸€åŒ–åˆ°0-100ï¼‰ | `/api/analytics/class/:id/engagement-bubble` |
| **å¤šå­¦ç”Ÿæˆç»©è¶‹åŠ¿** | `Submission`, `Homework`, `ClassStudent` | æ¯ä¸ªå­¦ç”Ÿåœ¨å„æ¬¡ä½œä¸šä¸­çš„å¾—åˆ†ç‡(%)å åŠ é¢ç§¯å›¾ï¼Œå¯åŒæ—¶å¯¹æ¯”æœ€å¤š10ä¸ªå­¦ç”Ÿçš„æˆç»©èµ°åŠ¿ | `/api/analytics/class/:id/student-trends` |
| **ç­çº§èƒ½åŠ›å…³é”®è¯åˆ†æ** | `Submission`, `BehaviorLog`, `PeerReview`, `ClassPerformanceRecord`, `ChatMessage` | 15ä¸ªèƒ½åŠ›ç»´åº¦çš„é›·è¾¾å›¾ï¼ŒåŸºäºç­çº§èšåˆæ•°æ®è®¡ç®—å„ç»´åº¦å¾—åˆ†(0-100)ï¼ŒåŒ…æ‹¬ï¼šçŸ¥è¯†æŒæ¡ã€ä½œä¸šå®Œæˆã€æŒ‰æ—¶æäº¤ã€ç¼–ç¨‹å®è·µã€äº’è¯„å‚ä¸ã€å›¢é˜Ÿåä½œã€è¯¾å ‚é—®ç­”ã€çŸ¥è¯†åˆ†äº«ã€èµ„æºæµè§ˆã€æ¡ˆä¾‹å­¦ä¹ ã€AIäº’åŠ¨ã€å­¦ä¹ æ´»è·ƒåº¦ã€æˆç»©ä¼˜ç§€ç‡ã€è‡ªä¸»å­¦ä¹ ã€è¿Ÿäº¤ç®¡ç† | `/api/analytics/class/:id/competency-keywords` |

### æ•™å¸ˆç«¯è¡Œä¸ºåˆ†æ

| æŒ‡æ ‡/å›¾è¡¨ | æ•°æ®æ¥æº | è®¡ç®—æ–¹å¼ | API |
|-----------|----------|----------|-----|
| **è¡Œä¸ºè¯„åˆ†** | `Submission`, `BehaviorLog`, `ChatMessage` | `æäº¤ç‡Ã—55 + AIäº’åŠ¨åˆ†Ã—25 + ç¼–ç¨‹æ—¶é•¿åˆ†Ã—20` | `/api/behavior/teacher/overview` |
| **é£é™©ç­‰çº§** | è¡Œä¸ºè¯„åˆ† | <50=é«˜é£é™©ï¼Œ50-80=ä¸­é£é™©ï¼Œ>80=ä½é£é™© | `/api/behavior/teacher/overview` |
| **è¿‘10å¤©æ´»åŠ¨è¶‹åŠ¿** | `BehaviorLog` | è¿‘10å¤©æ¯å¤©çš„è¡Œä¸ºæ—¥å¿—æ—¶é•¿å½’ä¸€åŒ– | `/api/behavior/teacher/overview` |
| **èƒ½åŠ›ç»´åº¦åˆ†å¸ƒ** | è¡Œä¸ºæ•°æ®èšåˆ | ç¼–ç¨‹=ç¼–ç¨‹æ—¶é•¿Ã—10ï¼Œåä½œ=è®¨è®ºæ¬¡æ•°Ã—5ï¼Œé€»è¾‘=æµ‹éªŒå‡åˆ†ï¼Œè¡¨è¾¾=(é€»è¾‘+åä½œ)/2ï¼Œæ´»è·ƒ=(è¡Œä¸ºåˆ†+åä½œ)/2 | `/api/behavior/teacher/overview` |
| **AI æ´å¯Ÿ** | è¡Œä¸ºæ•°æ®ç»Ÿè®¡ | åŸºäºé«˜/ä¸­/ä½é£é™©å­¦ç”Ÿæ•°é‡å’Œè¡Œä¸ºè¯„åˆ†åŠ¨æ€ç”Ÿæˆæ–‡æœ¬ | å‰ç«¯åŠ¨æ€è®¡ç®— |
| **å¹²é¢„æ¶ˆæ¯** | å­¦ç”Ÿè¡Œä¸ºæ•°æ® | æ ¹æ®å­¦ç”Ÿçš„è¡Œä¸ºåˆ†ã€æµ‹éªŒå‡åˆ†ã€ç¼–ç¨‹æ—¶é•¿ã€è®¨è®ºæ¬¡æ•°åŠ¨æ€ç”Ÿæˆä¸ªæ€§åŒ–å¹²é¢„æ¶ˆæ¯ | å‰ç«¯åŠ¨æ€ç”Ÿæˆ |

## ğŸ“¦ éƒ¨ç½²

è¯¦ç»†éƒ¨ç½²æ–‡æ¡£è¯·å‚é˜… [DEPLOY.md](./DEPLOY.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](./LICENSE) è®¸å¯è¯ã€‚
