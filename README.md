<div align="center">

# ğŸ“ Smart Learn - æ™ºæ…§æ•™è‚² AI å¹³å°

*åŸºäº React å’Œ AI çš„æ™ºèƒ½æ•™å­¦å¹³å° | AI-Powered Intelligent Teaching Platform*

[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](LICENSE)
[![React](https://img.shields.io/badge/React-19.2-61dafb?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-3178c6?logo=typescript)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-7.x-646cff?logo=vite)](https://vitejs.dev/)
[![Playwright](https://img.shields.io/badge/Playwright-E2E-2EAD33?logo=playwright)](https://playwright.dev/)
[![Node.js](https://img.shields.io/badge/Node.js-20.x-339933?logo=node.js)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791?logo=postgresql)](https://www.postgresql.org/)

</div>

---

## ğŸ“– é¡¹ç›®å…¨æ™¯

**Smart Learn** æ˜¯ä¸€ä¸ªå…¨æ ˆ AI æ™ºèƒ½æ•™å­¦å¹³å°ï¼Œé¢å‘å­¦ç”Ÿå’Œæ•™å¸ˆåŒç«¯ï¼Œæä¾›ä¸ªæ€§åŒ–å­¦ä¹ è¾…åŠ©ä¸ç²¾å‡†æ•™å­¦ç®¡ç†ã€‚å¹³å°æ·±åº¦é›†æˆ AI èƒ½åŠ›ï¼Œæ¶µç›–ç­çº§ç®¡ç†ã€åˆ†å±‚ä½œä¸šå‘å¸ƒã€AI å­¦ä¹ åŠ©æ‰‹ã€å­¦æƒ…åˆ†æä¸ç²¾å‡†å¹²é¢„ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

å‰ç«¯é‡‡ç”¨ React 19 + TypeScript + Vite æ„å»ºï¼Œåç«¯åŸºäº Node.js + Express + PostgreSQL (Prisma ORM)ï¼Œæ–‡ä»¶å­˜å‚¨ä½¿ç”¨ MinIO (S3 å…¼å®¹)ï¼Œé€šè¿‡ Playwright è¿›è¡Œ E2E è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œç¡®ä¿äº§å“è´¨é‡ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½æ¸…å•

### ğŸ’ å­¦ç”Ÿç«¯

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **ä»ªè¡¨ç›˜** | æ€»ç§¯åˆ†/æ’å/è¯¾ç¨‹è¿›åº¦/AIäº’åŠ¨æŒ‡æ•°ã€è¿‘7å¤©å­¦ä¹ è¶‹åŠ¿ã€äº”ç»´èƒ½åŠ›é›·è¾¾ï¼ˆçŸ¥è¯†æŒæ¡/å­¦ä¹ æŠ•å…¥/è¯¾å ‚äº’åŠ¨/åä½œè´¡çŒ®/è‡ªä¸»æ‹“å±•ï¼‰ã€è¯¾å ‚è¡¨ç°æ¨¡å—ã€æœ€è¿‘æ´»åŠ¨ï¼›æ”¯æŒå¯¼å‡ºå­¦ä¹ æŠ¥å‘Šã€AI è¯Šæ–­è·³è½¬ |
| **AI æ™ºèƒ½åŠ©æ‰‹** | åŸºäº OpenAI å…¼å®¹ API çš„ SSE æµå¼å¯¹è¯ã€å¤šæ¨¡å‹é€‰æ‹©ã€èŠå¤©å†å²æŒä¹…åŒ–ã€Socratic å¼•å¯¼å¼æ•™å­¦ |
| **èµ„æºåº“** | æŒ‰ç±»å‹/åˆ†ç±»/æ ‡ç­¾æœç´¢è¿‡æ»¤æ•™å­¦èµ„æºï¼Œæ”¯æŒæ”¶è—ã€æµè§ˆé‡ç»Ÿè®¡ã€è¯„è®º |
| **ä½œä¸šæäº¤** | æŸ¥çœ‹/æäº¤ä½œä¸šï¼ˆPDF/Notebookï¼‰ï¼Œæ–‡ä»¶é¢„è§ˆï¼ˆPDF å†…è”ã€IPYNB JSONï¼‰ï¼Œæˆªæ­¢æ—¶é—´æé†’ |
| **åŒè¡Œäº’è¯„** | å‚ä¸åŒè¡Œäº’è¯„ï¼ŒåŒ¿åè¯„å®¡æœºåˆ¶ï¼Œè¯„åˆ†åé¦ˆ |
| **æ€æ”¿æ¡ˆä¾‹åº“** | æµè§ˆ/æ”¶è—/è¯„åˆ†æ€æ”¿æ¡ˆä¾‹ï¼Œæ¡ˆä¾‹è¯„è®º |
| **å­¦æƒ…åˆ†æ** | ä¸ªäººæˆç»©è¶‹åŠ¿ã€å¾—åˆ†èµ°åŠ¿ç»Ÿè®¡ |
| **ä¸ªäººè®¾ç½®** | èµ„æ–™ç¼–è¾‘ã€å¤´åƒä¸Šä¼ ã€å¯†ç ä¿®æ”¹ã€é€šçŸ¥åå¥½ã€éšç§æƒé™ |

### ğŸ« æ•™å¸ˆç«¯

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **ä»ªè¡¨ç›˜** | æˆè¯¾å­¦ç”Ÿæ•°/ç­çº§æ•°/æäº¤ç‡/å¾…å…³æ³¨å­¦ç”Ÿã€æœ€è¿‘åŠ¨æ€ã€å¾…åŠä»»åŠ¡ã€å¿«æ·å…¥å£ |
| **ç­çº§ç®¡ç†** | åˆ›å»ºç­çº§ï¼ˆè‡ªåŠ¨é‚€è¯·ç ï¼‰ã€æˆå‘˜ç®¡ç†ã€ç­çº§ç¼–è¾‘/åˆ é™¤ |
| **åˆ†å±‚ä½œä¸šå‘å¸ƒ** | å‘å¸ƒä½œä¸šï¼ˆæ ‡é¢˜/æè¿°/æˆªæ­¢æ—¶é—´/æ»¡åˆ†/è¿Ÿäº¤è®¾ç½®ï¼‰ã€æ”¯æŒæ™®é€šä½œä¸š/é¡¹ç›®å°ç»„ä½œä¸š/è‡ªä¸»å®è·µä½œä¸šä¸‰ç§å½¢æ€ã€AI è¾…åŠ©æ‰¹æ”¹ |
| **ä½œä¸šåŠ¨æ€ç»„é˜Ÿ** | é¡¹ç›®å°ç»„ä½œä¸šæ”¯æŒè‡ªåŠ¨åˆ†ç»„ã€æ‰‹åŠ¨æ‹–æ‹½è°ƒæ•´ã€å­¦ç”Ÿè‡ªç”±ç»„é˜Ÿ |
| **åŒè¡Œäº’è¯„ç®¡ç†** | é…ç½®è¯„å®¡äººæ•°ã€åŒ¿åæ¨¡å¼ã€äº’è¯„æˆªæ­¢æ—¶é—´ã€è¦†ç›–ç­–ç•¥ |
| **å­¦ç”Ÿè¡Œä¸ºåˆ†æ** | å­¦ç”Ÿè¡Œä¸ºæ•°æ®åˆ†æã€å¯¼å‡ºæŠ¥è¡¨ã€ç”Ÿæˆå…³æ³¨æ¸…å• |
| **ç²¾å‡†å¹²é¢„æ§åˆ¶å°** | é¢„è­¦å­¦ç”Ÿç®¡ç†ã€è¡Œä¸ºè¯„åˆ†ç­›é€‰ï¼ˆå…¨éƒ¨/é¢„è­¦/é«˜åˆ†ï¼‰ã€AI æ¨èæ–¹æ¡ˆã€å¹²é¢„èµ„æºæ¨é€ |
| **å¹³æ—¶è¡¨ç°ç®¡ç†** | è¯¾å ‚è¡¨ç°è®°å½•ã€çŸ¥è¯†ç‚¹è¯„ä¼°ã€æˆç»©è¿½è¸ª |
| **æ•°æ®åˆ†æ** | ç­çº§ä½œä¸šåˆ†æï¼ˆæäº¤ç‡/åˆ†æ•°åˆ†å¸ƒï¼‰ã€å­¦ç”Ÿèšç±»åˆ†æï¼ˆç®€å•é˜ˆå€¼/KMeans+è½®å»“ç³»æ•°ï¼‰ã€å­¦ç”Ÿè¡¨ç°æ•£ç‚¹å›¾ã€ç»¼åˆæˆç»©ç»Ÿè®¡ï¼ˆå‡åˆ†/ä¸­ä½æ•°/æ ‡å‡†å·®/åŠæ ¼ç‡/ä¼˜ç§€ç‡ï¼‰ã€æˆç»©æ„æˆç¯å½¢å›¾ã€ç­çº§æŒ‡æ ‡ä½“ç³»é›·è¾¾ï¼ˆ6ç»´ï¼‰ã€è¯¾å ‚è¡¨ç°çƒ­åŠ›å›¾ã€å­¦ç”Ÿç”»åƒè¯¦æƒ…ã€è¯„ä»·åˆ†æï¼ˆè‡ªè¯„/äº’è¯„åˆ†å¸ƒ+åå·®æ•£ç‚¹ï¼‰ã€ä½œä¸šæˆç»©è¶‹åŠ¿ã€æˆç»©è¶‹åŠ¿å¯¹æ¯”ã€åˆ†ç»„å¯¹æ¯”ã€AI å­¦æƒ…æŠ¥å‘Š |

### ğŸ” é€šç”¨åŠŸèƒ½

- é‚®ç®±éªŒè¯ç æ³¨å†Œ/ç™»å½•/å¯†ç é‡ç½®
- JWT é‰´æƒ + è§’è‰²å®ˆå«ï¼ˆSTUDENT / TEACHERï¼‰
- å…¨å±€æœç´¢ã€é€šçŸ¥ç³»ç»Ÿ
- æ€æ”¿æ¡ˆä¾‹åº“ï¼ˆåˆ›å»º/æµè§ˆ/è¯„åˆ†/æ”¶è—/è¯„è®ºï¼‰
- æ•™å­¦èµ„æºç®¡ç†ï¼ˆä¸Šä¼ /æµè§ˆ/æ”¶è—/è¯„è®ºï¼‰

## ğŸ—ï¸ æŠ€æœ¯æ ˆè¯¦æƒ…

| å±‚ | æŠ€æœ¯ |
|----|------|
| **å‰ç«¯æ¡†æ¶** | React 19, TypeScript, Vite 7 |
| **UI ç»„ä»¶åº“** | Tailwind CSS 3.4, shadcn/ui (Radix UI), Lucide Icons |
| **çŠ¶æ€ç®¡ç†** | Zustand 5 (with localStorage persist) |
| **è·¯ç”±** | React Router 7 |
| **åŠ¨ç”»** | Framer Motion |
| **æ•°æ®å¯è§†åŒ–** | Recharts |
| **HTTP å®¢æˆ·ç«¯** | Axios |
| **é€šçŸ¥** | Sonner (Toast) |
| **åç«¯** | Node.js, Express, TypeScript, Prisma ORM, Zod |
| **æ•°æ®åº“** | PostgreSQL 15+ |
| **è®¤è¯** | JWT (jsonwebtoken), bcryptjs |
| **æ–‡ä»¶å­˜å‚¨** | MinIO / S3 å…¼å®¹å¯¹è±¡å­˜å‚¨ (AWS SDK) |
| **é‚®ä»¶** | Nodemailer (SMTP) |
| **AI** | OpenAI å…¼å®¹ API (SSE æµå¼) |
| **å®šæ—¶ä»»åŠ¡** | node-cron |
| **E2E æµ‹è¯•** | Playwright |

## ğŸ“ ç›®å½•ç»“æ„

```
smart-learn/
â”œâ”€â”€ app/                            # å‰ç«¯ React åº”ç”¨
â”‚   â”œâ”€â”€ public/                     # é™æ€èµ„æº (favicon ç­‰)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx                 # è·¯ç”±å®šä¹‰ + è§’è‰²å®ˆå«
â”‚   â”‚   â”œâ”€â”€ main.tsx                # å…¥å£
â”‚   â”‚   â”œâ”€â”€ components/             # UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                 # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ charts/             # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/               # AI èŠå¤©ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ layout/             # å¸ƒå±€ (MainLayout, AuthLayout)
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/               # ç™»å½•ã€æ³¨å†Œã€æ‰¾å›å¯†ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ student/            # å­¦ç”Ÿç«¯æ‰€æœ‰é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ teacher/            # æ•™å¸ˆç«¯æ‰€æœ‰é¡µé¢
â”‚   â”‚   â”œâ”€â”€ stores/                 # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ authStore.ts        # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ classStore.ts       # ç­çº§ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ homeworkStore.ts    # ä½œä¸šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ resourceStore.ts    # èµ„æºä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ caseStore.ts        # æ¡ˆä¾‹åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ chatStore.ts        # AI èŠå¤©
â”‚   â”‚   â”‚   â”œâ”€â”€ courseStore.ts       # è¯¾ç¨‹ä¿¡æ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ groupStore.ts       # ä½œä¸šåˆ†ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ peerReviewStore.ts  # åŒè¡Œäº’è¯„
â”‚   â”‚   â”‚   â”œâ”€â”€ analyticsStore.ts   # æ•°æ®åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ behaviorStore.ts    # è¡Œä¸ºåˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboardStore.ts   # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ teacherStore.ts     # æ•™å¸ˆæ•°æ®
â”‚   â”‚   â”‚   â””â”€â”€ classPerformanceStore.ts # å¹³æ—¶è¡¨ç°
â”‚   â”‚   â”œâ”€â”€ hooks/                  # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ lib/                    # API å®¢æˆ·ç«¯ (Axios)ã€å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ backend/                        # åç«¯ Express åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts                # å…¥å£ + è·¯ç”±æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ routes/                 # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯
â”‚   â”‚   â”‚   â”œâ”€â”€ class.ts            # ç­çº§ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ homework.ts         # ä½œä¸šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ resource.ts         # èµ„æºä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ case.ts             # æ¡ˆä¾‹åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ course.ts           # è¯¾ç¨‹ä¿¡æ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ ai.ts               # AI åŠ©æ‰‹
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics.ts        # æ•°æ®åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.ts        # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ behavior.ts         # è¡Œä¸ºæ•°æ®
â”‚   â”‚   â”‚   â”œâ”€â”€ group.ts            # ä½œä¸šåˆ†ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ peerReview.ts       # åŒè¡Œäº’è¯„
â”‚   â”‚   â”‚   â”œâ”€â”€ classPerformance.ts # å¹³æ—¶è¡¨ç°
â”‚   â”‚   â”‚   â””â”€â”€ public.ts           # å…¬å…±è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/             # JWT è®¤è¯ã€æ–‡ä»¶ä¸Šä¼ ã€é™æµ
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ storage/            # MinIO / S3 å­˜å‚¨æœåŠ¡
â”‚   â”‚   â””â”€â”€ utils/                  # å·¥å…· (JWT, é‚®ä»¶)
â”‚   â”œâ”€â”€ prisma/schema.prisma        # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”‚   â””â”€â”€ .env.example                # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ e2e/                            # E2E è‡ªåŠ¨åŒ–æµ‹è¯• (Playwright)
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ auth.spec.ts            # è®¤è¯æ¨¡å—æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ student.spec.ts         # å­¦ç”Ÿç«¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ teacher.spec.ts         # æ•™å¸ˆç«¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ teacher-intervention.spec.ts  # å¹²é¢„æ§åˆ¶å°æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ student-homework.spec.ts      # å­¦ç”Ÿä½œä¸šæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ routing.spec.ts         # è·¯ç”±æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ mobile.spec.ts          # ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•
â”‚   â”‚   â””â”€â”€ fixtures.spec.ts        # æµ‹è¯• Fixture éªŒè¯
â”‚   â””â”€â”€ playwright.config.ts
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ start-dev.sh                # å¼€å‘ç¯å¢ƒä¸€é”®å¯åŠ¨
â”‚   â”œâ”€â”€ start-prod.sh               # ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
â”‚   â””â”€â”€ reset-db.sh                 # æ•°æ®åº“é‡ç½®
â”œâ”€â”€ static-ui/                      # é™æ€ UI è®¾è®¡ç¨¿
â”œâ”€â”€ DEPLOY.md                       # éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ LICENSE
â””â”€â”€ README.md
```

## ğŸš€ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- **Node.js** 20.x+
- **PostgreSQL** 15+
- **MinIO**ï¼ˆå¯é€‰ï¼Œä¸é…ç½®åˆ™ä½¿ç”¨æœ¬åœ°æ–‡ä»¶å­˜å‚¨å›é€€ï¼‰
- **npm**

### æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# å…‹éš†é¡¹ç›®åï¼Œä½¿ç”¨ä¸€é”®å¯åŠ¨è„šæœ¬
./scripts/start-dev.sh

# å¯é€‰å‚æ•°:
#   --keep-db    ä¿ç•™å¼€å‘æ•°æ®åº“
#   --reset-db   å¼ºåˆ¶é‡ç½®æ•°æ®åº“
#   --seed       æ’å…¥æµ‹è¯•è´¦å·ï¼ˆ2ä¸ªå­¦ç”Ÿ + 1ä¸ªæ•™å¸ˆï¼‰
```

ä½¿ç”¨ `--seed` å‚æ•°ä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹æµ‹è¯•è´¦å·ï¼š

| è§’è‰² | é‚®ç®± | å¯†ç  |
|------|------|------|
| å­¦ç”Ÿ | student1@test.com | 123456 |
| å­¦ç”Ÿ | student2@test.com | 123456 |
| æ•™å¸ˆ | teacher@test.com | 123456 |

è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–ã€ç”Ÿæˆ Prisma Clientã€åˆå§‹åŒ–æ•°æ®åº“å¹¶åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡ã€‚

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

**1. é…ç½®å¹¶å¯åŠ¨åç«¯**

```bash
cd backend
cp .env.example .env
# ç¼–è¾‘ .envï¼Œè‡³å°‘é…ç½® DATABASE_URL å’Œ JWT_SECRET
npm install
npx prisma generate
npx prisma db push
npm run dev
# åç«¯è¿è¡Œåœ¨ http://localhost:3001
```

**2. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰**

```bash
cd app
npm install
npm run dev
# å‰ç«¯è¿è¡Œåœ¨ http://localhost:5173
```

### è¿è¡Œ E2E æµ‹è¯•

E2E æµ‹è¯•åŸºäº Playwrightï¼Œåœ¨å‰ç«¯è¿è¡Œçš„æƒ…å†µä¸‹æ‰§è¡Œï¼š

```bash
cd e2e
npm install
npx playwright install chromium    # é¦–æ¬¡è¿è¡Œéœ€å®‰è£…æµè§ˆå™¨

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# å¸¦æµè§ˆå™¨ç•Œé¢è¿è¡Œï¼ˆæ–¹ä¾¿è°ƒè¯•ï¼‰
npm run test:headed

# æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
npm run test:report
```

**æµ‹è¯•å¥—ä»¶æ¦‚è§ˆï¼š**

| æ–‡ä»¶ | è¦†ç›–èŒƒå›´ |
|------|----------|
| `auth.spec.ts` | ç™»å½•/æ³¨å†Œ/å¿˜è®°å¯†ç /æƒé™æ§åˆ¶/ç™»å‡º |
| `student.spec.ts` | å­¦ç”Ÿä»ªè¡¨ç›˜/ä½œä¸š/èµ„æº/AIåŠ©æ‰‹/è®¾ç½®/åˆ†æ |
| `teacher.spec.ts` | æ•™å¸ˆä»ªè¡¨ç›˜/ç­çº§/ä½œä¸š/åˆ†æ/è¡Œä¸ºåˆ†æ/èµ„æº |
| `teacher-intervention.spec.ts` | å¹²é¢„æ§åˆ¶å° Toggle å¼€å…³/ç­›é€‰å™¨/è¡¨å•æäº¤ |
| `student-homework.spec.ts` | å­¦ç”Ÿä½œä¸šäº¤äº’ + PDF/Notebook æ–‡ä»¶ä¸Šä¼  |
| `routing.spec.ts` | è·¯ç”±é‡å®šå‘/404/æƒé™å®ˆå« |
| `mobile.spec.ts` | ç§»åŠ¨ç«¯ viewport é€‚é…æµ‹è¯• |
| `fixtures.spec.ts` | æµ‹è¯•æ–‡ä»¶ç”ŸæˆéªŒè¯ |

### ç¯å¢ƒå˜é‡è¯´æ˜ (`.env`)

```env
# æ•°æ®åº“ (å¿…é¡»)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/smartlearn?schema=public"

# JWT (å¿…é¡»)
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRES_IN="7d"

# SMTP é‚®ä»¶ (å¯é€‰)
SMTP_HOST="smtp.ethereal.email"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=""
SMTP_PASS=""
SMTP_FROM_NAME="æ™ºæ…§æ•™è‚²AIå¹³å°"
SMTP_FROM_EMAIL="noreply@edu-platform.com"

# æœåŠ¡å™¨
PORT=3001
NODE_ENV="development"
FRONTEND_URL="http://localhost:5173"

# AI (å¯é€‰ï¼Œä¸é…ç½®åˆ™ AI åŠ©æ‰‹ä¸å¯ç”¨)
AI_BASE_URL="https://api.openai.com"
AI_API_KEY=""

# MinIO / S3 å¯¹è±¡å­˜å‚¨ (å¯é€‰ï¼Œä¸é…ç½®åˆ™ä½¿ç”¨æœ¬åœ°æ–‡ä»¶å­˜å‚¨)
S3_ENDPOINT="http://127.0.0.1:9000"
S3_ACCESS_KEY="minioadmin"
S3_SECRET_KEY="minioadmin"
S3_BUCKET_NAME="smart-learn"
```

## ğŸ”— API ç«¯ç‚¹æ€»è§ˆ

| å‰ç¼€ | è¯´æ˜ | é‰´æƒ |
|------|------|------|
| `/api/auth` | è®¤è¯ï¼ˆæ³¨å†Œ/ç™»å½•/å¯†ç é‡ç½®/ä¸ªäººèµ„æ–™/åå¥½/å¤´åƒ/æ³¨é”€ï¼‰ | éƒ¨åˆ†éœ€è¦ |
| `/api/classes` | ç­çº§ç®¡ç† | éœ€è¦ |
| `/api/homeworks` | ä½œä¸šç®¡ç†ï¼ˆå‘å¸ƒ/æ‰¹æ”¹/å¯¼å‡º/AIè¾…åŠ©æ‰¹æ”¹ï¼‰ | éœ€è¦ |
| `/api/resources` | èµ„æºä¸­å¿ƒï¼ˆæµè§ˆ/æ”¶è—/è¯„è®ºï¼‰ | åˆ—è¡¨å…¬å¼€ï¼ŒCRUD éœ€æ•™å¸ˆ |
| `/api/cases` | æ¡ˆä¾‹åº“ï¼ˆæµè§ˆ/æ”¶è—/è¯„åˆ†/è¯„è®ºï¼‰ | åˆ—è¡¨å…¬å¼€ï¼ŒCRUD éœ€æ•™å¸ˆ |
| `/api/courses` | è¯¾ç¨‹ä¿¡æ¯ | éœ€è¦ |
| `/api/ai` | AI åŠ©æ‰‹ï¼ˆèŠå¤©/å†å²/åˆ é™¤ï¼‰ | éœ€è¦ |
| `/api/analytics` | æ•°æ®åˆ†æï¼ˆä½œä¸šç»Ÿè®¡/æˆç»©åˆ†å¸ƒ/ç­çº§æ¦‚è§ˆ/å­¦ç”Ÿèšç±»[é˜ˆå€¼\|KMeans]/è¡¨ç°æ•£ç‚¹/ç»¼åˆç»Ÿè®¡/æˆç»©æ„æˆ/æŒ‡æ ‡é›·è¾¾/è¡¨ç°çƒ­åŠ›å›¾/å­¦ç”Ÿç”»åƒ/è¯„ä»·åˆ†æ/è¶‹åŠ¿å¯¹æ¯”/åˆ†ç»„å¯¹æ¯”/AIå­¦æƒ…æŠ¥å‘Šï¼‰ | éœ€è¦ï¼ˆæ•™å¸ˆï¼šç­çº§çº§ï¼Œå­¦ç”Ÿï¼šä¸ªäººçº§ï¼‰ |
| `/api/dashboard` | ä»ªè¡¨ç›˜èšåˆ | éœ€è¦ |
| `/api/behavior` | å­¦ç”Ÿè¡Œä¸ºæ•°æ® | éœ€è¦ |
| `/api/groups` | ä½œä¸šåˆ†ç»„ç®¡ç† | éœ€è¦ |
| `/api/peer-reviews` | åŒè¡Œäº’è¯„ | éœ€è¦ |
| `/api/class-performance` | å¹³æ—¶è¡¨ç°ç®¡ç† | éœ€è¦ |
| `/api/public` | å…¬å…±æ•°æ®æ¥å£ | æ—  |
| `/api/health` | å¥åº·æ£€æŸ¥ | æ—  |

## âš ï¸ å·²çŸ¥é™åˆ¶

- æ–‡ä»¶ä¸Šä¼ æ”¯æŒ PDF å’Œ IPYNB æ ¼å¼ï¼Œé€šè¿‡ MinIOï¼ˆS3 å…¼å®¹ï¼‰å¯¹è±¡å­˜å‚¨ç®¡ç†
- AI åŠ©æ‰‹éœ€é…ç½®å¤–éƒ¨ OpenAI å…¼å®¹ APIï¼ˆæ”¯æŒè‡ªå®šä¹‰ `AI_BASE_URL`ï¼‰
- é‚®ä»¶æé†’éœ€é…ç½® SMTP æœåŠ¡

## ğŸ“Š å›¾è¡¨æ•°æ®æ¥æºä¸è®¡ç®—æ–¹å¼

ä»¥ä¸‹æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰å›¾è¡¨å’Œæ•°æ®æŒ‡æ ‡çš„æ•°æ®æ¥æºåŠè®¡ç®—æ–¹å¼è¯´æ˜ã€‚æ‰€æœ‰æ•°æ®å‡æ¥è‡ªæ•°æ®åº“å®æ—¶æŸ¥è¯¢ï¼Œä¸ä½¿ç”¨ mock æ•°æ®ã€‚

### å­¦ç”Ÿç«¯ä»ªè¡¨ç›˜

| æŒ‡æ ‡/å›¾è¡¨ | æ•°æ®æ¥æº | è®¡ç®—æ–¹å¼ | API |
|-----------|----------|----------|-----|
| **æ€»ç§¯åˆ†** | `Submission.score` | æ‰€æœ‰å·²è¯„åˆ†æäº¤çš„åˆ†æ•°ä¹‹å’Œ | `/api/dashboard/student/stats` |
| **ç­çº§æ’å** | `Submission.score` | åŒç­åŒå­¦æ€»åˆ†æ’åºï¼Œè®¡ç®—ç™¾åˆ†ä½æ’å | `/api/dashboard/student/stats` |
| **è¯¾ç¨‹è¿›åº¦** | `Submission`, `Homework` | å·²æäº¤ä½œä¸šæ•° / æ‰€åœ¨ç­çº§å…¨éƒ¨ä½œä¸šæ•° Ã— 100% | `/api/dashboard/student/stats` |
| **AI äº’åŠ¨æŒ‡æ•°** | `ChatMessage` (role=user) | `min(100, logâ‚‚(æ¶ˆæ¯æ•°+1) Ã— 15)` | `/api/dashboard/student/stats` |
| **å­¦ä¹ è¡Œä¸ºè¶‹åŠ¿** | `Submission` | è¿‘7å¤©æ¯å¤©çš„å¾—åˆ†æ€»å’Œï¼ŒæŒ‰æ—¥æœŸåˆ†ç»„ | `/api/dashboard/student/trend` |
| **éšå ‚æµ‹éªŒ** | `Homework`, `Submission` | æ ‡é¢˜åŒ¹é…"æµ‹éªŒ/quiz/è€ƒè¯•/test"çš„ä½œä¸šï¼Œè®¡ç®—å¹³å‡æ­£ç¡®ç‡ | `/api/dashboard/student/modules` |
| **ç¼–ç¨‹å®éªŒ** | `Homework`, `Submission` | æ ‡é¢˜åŒ¹é…"å®éªŒ/lab/ç¼–ç¨‹/ä»£ç /coding"çš„ä½œä¸šï¼Œè®¡ç®—é€šè¿‡ç‡ï¼ˆâ‰¥60%ä¸ºé€šè¿‡ï¼‰ | `/api/dashboard/student/modules` |
| **è¯¾å ‚è¡¨ç°** | `ClassPerformanceRecord` | è¿‘4å‘¨è¯¾å ‚é—®ç­”+çŸ¥è¯†åˆ†äº«è®°å½•ï¼ŒæŒ‰å‘¨åˆ†ç»„ï¼Œè®¡ç®—ç»¼åˆè¯„åˆ†ï¼ˆQAÃ—0.5 + åˆ†äº«Ã—0.5ï¼‰ | `/api/dashboard/student/modules` |
| **å°ç»„é¡¹ç›®** | `ClassStudent`, `Homework` | åŒç­åŒå­¦åˆ—è¡¨ + æœ€è¿‘æˆªæ­¢çš„ä½œä¸šä½œä¸ºé¡¹ç›® | `/api/dashboard/student/modules` |
| **æœ€è¿‘åŠ¨æ€** | `Submission`, `Homework` | æœ€è¿‘10æ¬¡ä½œä¸šæäº¤è®°å½•ï¼Œå«è¯„åˆ†çŠ¶æ€ | `/api/dashboard/student/activities` |

### äº”ç»´èƒ½åŠ›é›·è¾¾

| ç»´åº¦ | æ•°æ®æ¥æº | è®¡ç®—æ–¹å¼ |
|------|----------|----------|
| **çŸ¥è¯†æŒæ¡** | `Submission`, `Homework` | `Î£(score/maxScoreÃ—100) / N`ï¼ŒN ä¸ºå·²è¯„åˆ†ä½œä¸šæ•°ï¼›è‹¥æ— æ•°æ®åˆ™ä¸º 50ï¼ˆä¸­ä½é»˜è®¤å€¼ï¼‰ |
| **å­¦ä¹ æŠ•å…¥** | `Submission`, `Homework`, `ClassStudent` | `æäº¤ç‡Ã—0.5 + æŒ‰æ—¶æäº¤ç‡Ã—0.5`ã€‚æäº¤ç‡ = å·²æäº¤æ•°/åº”æäº¤æ•°ï¼ŒæŒ‰æ—¶æäº¤ç‡ = æŒ‰æ—¶æäº¤æ•°/å·²æäº¤æ•°ï¼›è‹¥æ— æ•°æ®åˆ™ä¸º 50 |
| **è¯¾å ‚äº’åŠ¨** | `ClassPerformanceRecord` | æ•™å¸ˆæ‰“åˆ†æ ‡å‡†åŒ–ï¼ˆå¹³å‡åˆ†/5Ã—80ï¼‰+ å‚ä¸é¢‘æ¬¡åŠ åˆ†ï¼ˆæ¯æ¡è®°å½•+4åˆ†ï¼Œä¸Šé™20åˆ†ï¼‰ï¼Œæ€»åˆ†ä¸Šé™100ï¼›è‹¥æ— æ•°æ®åˆ™ä¸º 50 |
| **åä½œè´¡çŒ®** | `AssignmentGroupMember`, `PeerReview`, `SelfAssessment` | å°ç»„å‚ä¸åº¦(å‚ä¸å°ç»„æ•°/å°ç»„ä½œä¸šæ•°Ã—40) + äº’è¯„å®Œæˆç‡(å®Œæˆçš„äº’è¯„/åˆ†é…çš„äº’è¯„Ã—30) + è‡ªè¯„å®Œæˆç‡(å®Œæˆçš„è‡ªè¯„/åº”å®Œæˆçš„è‡ªè¯„Ã—30)ï¼›è‹¥æ— æ•°æ®åˆ™ä¸º 50 |
| **è‡ªä¸»æ‹“å±•** | `ResourceView`, `ChatMessage`, `CaseBookmark`, `BehaviorLog` | èµ„æºæµè§ˆæ·±åº¦(min(æµè§ˆèµ„æºæ•°/10, 1)Ã—30) + AIåŠ©æ‰‹æ´»è·ƒåº¦(min(logâ‚‚(èŠå¤©æ•°+1)Ã—15, 30)) + æ¡ˆä¾‹æ¢ç´¢(min(æ”¶è—æ¡ˆä¾‹æ•°Ã—10, 20)) + å­¦ä¹ æ—¶é•¿(min(æ€»åœç•™ç§’æ•°/3600Ã—5, 20))ï¼›è‹¥æ— æ•°æ®åˆ™ä¸º 50 |

> API: `GET /api/dashboard/student/radar` â€” AI è¯Šæ–­æ–‡æœ¬åŸºäºæœ€å¼º/æœ€å¼±ç»´åº¦åŠ¨æ€ç”Ÿæˆã€‚æ¯ä¸ªç»´åº¦åœ¨æ— æ•°æ®æ—¶é»˜è®¤ä¸º 50 åˆ†ï¼Œé¿å…é›·è¾¾å›¾ä¸¥é‡åå¡Œã€‚

### æ•™å¸ˆç«¯æ•°æ®åˆ†æ

| å›¾è¡¨ | æ•°æ®æ¥æº | è®¡ç®—æ–¹å¼ | API |
|------|----------|----------|-----|
| **ç»¼åˆç»Ÿè®¡å¡ç‰‡** | `Submission`, `Homework`, `ClassStudent` | å¹³å‡åˆ†ã€ä¸­ä½æ•°ã€æ ‡å‡†å·®ã€åŠæ ¼ç‡ï¼ˆâ‰¥60%ï¼‰ã€ä¼˜ç§€ç‡ï¼ˆâ‰¥90%ï¼‰ | `/api/analytics/class/:id/comprehensive-stats` |
| **æˆç»©æ„æˆç¯å½¢å›¾** | `Submission`, `ClassPerformanceRecord`, `SelfAssessment`, `PeerReview` | ç­çº§ç»´åº¦å››é¡¹æˆç»©æ„æˆï¼šä½œä¸šå¹³å‡åˆ†(score/maxScoreÃ—100)ã€å¹³æ—¶è¡¨ç°(æ•™å¸ˆè¯„åˆ†/5Ã—100)ã€è‡ªè¯„å¹³å‡åˆ†ã€äº’è¯„å¹³å‡åˆ† | `/api/analytics/class/:id/grade-composition` |
| **ç­çº§æŒ‡æ ‡ä½“ç³»é›·è¾¾** | `ClassPerformanceRecord`, `Submission`, `PeerReviewAssignment`, `SelfAssessment` | 6ç»´æŒ‡æ ‡ï¼šè¯¾å ‚é—®ç­”å‡åˆ†ã€çŸ¥è¯†åˆ†äº«å‡åˆ†ã€ä½œä¸šå¾—åˆ†ç‡ã€æäº¤ç‡ã€äº’è¯„å®Œæˆç‡ã€è‡ªè¯„å®Œæˆç‡ï¼Œå‡æ ‡å‡†åŒ–åˆ° 0-100 | `/api/analytics/class/:id/indicator-radar` |
| **å­¦ç”Ÿèšç±»åˆ†æ** | `Submission`, `Homework` | ç®€å•é˜ˆå€¼ï¼šç»¼åˆåˆ† = å¾—åˆ†ç‡Ã—0.5 + æäº¤ç‡Ã—0.3 + æŒ‰æ—¶ç‡Ã—0.2ï¼›â‰¥80ä¸ºä¼˜ç§€ï¼Œ50-79ä¸ºä¸­ç­‰ï¼Œ<50ä¸ºå¾…å…³æ³¨ã€‚å¯é€‰ KMeansï¼šå¯¹ [avgScoreRate, submissionRate, onTimeRate] ä¸‰ç»´æ•°æ®åš K-Means èšç±»ï¼Œè¿”å›è½®å»“ç³»æ•°è¯„ä¼°èšç±»è´¨é‡ | `/api/analytics/class/:id/student-clusters?method=threshold\|kmeans&k=3` |
| **è¯¾å ‚è¡¨ç°çƒ­åŠ›å›¾** | `ClassPerformanceRecord` | æŒ‰å­¦ç”Ÿ Ã— æ—¶é—´ï¼ˆæŒ‰å‘¨åˆ†æ¡¶ï¼‰ç”Ÿæˆçƒ­åŠ›å›¾çŸ©é˜µï¼Œmatrix[i][j] ä¸ºå­¦ç”Ÿ i åœ¨ç¬¬ j å‘¨çš„è¡¨ç°å¾—åˆ†æ€»å’Œ | `/api/analytics/class/:id/performance-heatmap` |
| **å­¦ç”Ÿç”»åƒ** | `Submission`, `ClassPerformanceRecord`, `SelfAssessment`, `PeerReview` | åŒ…å«ï¼šå„æ¬¡ä½œä¸šå¾—åˆ†åŠè¶‹åŠ¿ã€è¯¾å ‚é—®ç­”/çŸ¥è¯†åˆ†äº«æ˜ç»†ã€è‡ªè¯„æ•°æ®ã€äº’è¯„æ•°æ®ï¼ˆç»™å‡ºå’Œæ”¶åˆ°ï¼‰ã€ç»¼åˆè¯„çº§ | `/api/analytics/class/:id/student/:studentId/profile` |
| **è¯„ä»·åˆ†æï¼ˆè‡ªè¯„/äº’è¯„ï¼‰** | `SelfAssessment`, `PeerReview`, `Submission` | è‡ªè¯„åˆ†æ•°åˆ†å¸ƒï¼ˆç›´æ–¹å›¾ï¼‰ã€äº’è¯„åˆ†æ•°åˆ†å¸ƒã€è‡ªè¯„ vs æ•™å¸ˆè¯„åˆ†åå·®æ•£ç‚¹ï¼ˆx=è‡ªè¯„åˆ†, y=æ•™å¸ˆè¯„åˆ†%ï¼‰ã€äº’è¯„ä¸€è‡´æ€§æŒ‡æ ‡ï¼ˆå„æäº¤äº’è¯„åˆ†æ ‡å‡†å·®çš„å‡å€¼ï¼‰ | `/api/analytics/class/:id/peer-review-stats` |
| **å­¦ç”Ÿè¡¨ç°æ•£ç‚¹å›¾** | `Submission`, `Homework` | Xè½´=æäº¤ç‡(%)ï¼ŒYè½´=å¹³å‡å¾—åˆ†ç‡(%) | `/api/analytics/class/:id/performance-scatter` |
| **ç»¼åˆæˆç»©åˆ†å¸ƒ** | `Submission`, `Homework` | æŒ‰åˆ†æ•°æ®µ(90-100/80-89/70-79/60-69/<60)ç»Ÿè®¡ç¯å½¢å›¾ | `/api/analytics/class/:id/comprehensive-stats` |
| **ä½œä¸šæˆç»©è¶‹åŠ¿** | `Submission`, `Homework` | æ¯æ¬¡ä½œä¸šçš„å¹³å‡åˆ†/æœ€é«˜åˆ†/æœ€ä½åˆ†æŠ˜çº¿å›¾ | `/api/analytics/class/:id/comprehensive-stats` |
| **ä½œä¸šæäº¤ç‡** | `Submission`, `Homework`, `ClassStudent` | æ¯æ¬¡ä½œä¸šæäº¤æ•° / ç­çº§å­¦ç”Ÿæ•° Ã— 100% | `/api/analytics/class/:id/homeworks` |
| **å•æ¬¡ä½œä¸šæˆç»©åˆ†å¸ƒ** | `Submission`, `Homework` | æŒ‰åˆ†æ•°æ®µç»Ÿè®¡é¥¼å›¾ | `/api/analytics/homework/:id/distribution` |
| **æˆç»©è¶‹åŠ¿å¯¹æ¯”** | `Submission`, `Homework` | å„æ¬¡ä½œä¸šçš„ç­çº§å¹³å‡å¾—åˆ†ç‡ | `/api/analytics/class/:id/trend-compare` |
| **åˆ†ç»„æˆç»©å¯¹æ¯”** | `AssignmentGroup`, `Submission` | å„å°ç»„çš„å¹³å‡å¾—åˆ†ç‡ | `/api/analytics/homework/:id/group-compare` |
| **AI å­¦æƒ…æŠ¥å‘Š** | `Submission`, `Homework`, `ClassStudent` | åŸºäºæäº¤ç‡å’Œå¹³å‡åˆ†ç”Ÿæˆå»ºè®®æ–‡æœ¬ | `/api/analytics/class/:id/ai-report` |

### æ•™å¸ˆç«¯è¡Œä¸ºåˆ†æ

| æŒ‡æ ‡/å›¾è¡¨ | æ•°æ®æ¥æº | è®¡ç®—æ–¹å¼ | API |
|-----------|----------|----------|-----|
| **è¡Œä¸ºè¯„åˆ†** | `Submission`, `BehaviorLog`, `ChatMessage` | `æäº¤ç‡Ã—55 + AIäº’åŠ¨åˆ†Ã—25 + ç¼–ç¨‹æ—¶é•¿åˆ†Ã—20` | `/api/behavior/teacher/overview` |
| **é£é™©ç­‰çº§** | è¡Œä¸ºè¯„åˆ† | <50=é«˜é£é™©ï¼Œ50-80=ä¸­é£é™©ï¼Œ>80=ä½é£é™© | `/api/behavior/teacher/overview` |
| **è¿‘10å¤©æ´»åŠ¨è¶‹åŠ¿** | `BehaviorLog` | è¿‘10å¤©æ¯å¤©çš„è¡Œä¸ºæ—¥å¿—æ—¶é•¿å½’ä¸€åŒ– | `/api/behavior/teacher/overview` |
| **èƒ½åŠ›ç»´åº¦åˆ†å¸ƒ** | è¡Œä¸ºæ•°æ®èšåˆ | ç¼–ç¨‹=ç¼–ç¨‹æ—¶é•¿Ã—10ï¼Œåä½œ=è®¨è®ºæ¬¡æ•°Ã—5ï¼Œé€»è¾‘=æµ‹éªŒå‡åˆ†ï¼Œè¡¨è¾¾=(é€»è¾‘+åä½œ)/2ï¼Œæ´»è·ƒ=(è¡Œä¸ºåˆ†+åä½œ)/2 | `/api/behavior/teacher/overview` |
| **AI æ´å¯Ÿ** | è¡Œä¸ºæ•°æ®ç»Ÿè®¡ | åŸºäºé«˜/ä¸­/ä½é£é™©å­¦ç”Ÿæ•°é‡å’Œè¡Œä¸ºè¯„åˆ†åŠ¨æ€ç”Ÿæˆæ–‡æœ¬ | å‰ç«¯åŠ¨æ€è®¡ç®— |

## ğŸ“¦ éƒ¨ç½²

è¯¦ç»†éƒ¨ç½²æ–‡æ¡£è¯·å‚é˜… [DEPLOY.md](./DEPLOY.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](./LICENSE) è®¸å¯è¯ã€‚
